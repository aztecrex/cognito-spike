<html>
<head>
  <script>
    const doAuth = (form) => {
      const email = document.getElementById("signInFormUsername").value
      , pw = document.getElementById("signInFormPassword").value
      , body = {email, pw}
      const http = new XMLHttpRequest()
      , url = "https://ypa3nmey16.execute-api.us-east-1.amazonaws.com/prod/"
        + window.location.search
      http.onreadystatechange = () => {
        if (http.readyState == XMLHttpRequest.DONE) {
          const res = JSON.parse(http.responseText)
          window.location = res.url
        }
      }
      http.open("POST", url)
      http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      http.send(JSON.stringify(body))
      // auth with my lambda
      // do redirect
    }
  </script>
</head>
<body>
  <h1>Log in</h1>
  <form id="signInForm" onsubmit="event.preventDefault(); doAuth(this)">
    <input id="signInFormUsername" type="text" placeholder="Email" required>
    <input id="signInFormPassword" type="password" placeholder="Password" required>
    <input type="submit">
  </form>
</body>
</html>
