#!/bin/bash

refresh_token="eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.vUqMZuBzfaNW0Vxq_B72YQPOzf8fRZ7a5l4Tfn5oRf0zmqzQ5orlaPhSyiB804JEzaRQE02K-7emWsy60Qce8DS29QwlHXeS-QOvCgbk2WWWqp1M14yAeroqXS1SfxWDz5FB2x58BisgYkOorU9Em2Msj-qzmvC5b-dNTOIkW2X5jyJqhdz_UjRuHx8o9K6dj7_U8e6czp3ys-zITNfLvnr_l9bv9ksLtUAaNa-K3KbqNpwWTj2ZKzHDBqSy_6A6zfdpTroGA33IXTj8N3Wvbdzicpcsh3s0jP6_NhUqRs18hcxfmFHEBDh6RQfW54RmHzXt31vGY3GgQlKjWb3rjQ.oqazuZIDNYVpnqIH.itWePev9FTufoarcSq8BrJsKeoPSIsQ45DPeyDilqG5v6zvtlGoaWd_xbMAKYMxykzxEwe361cLqb8yHpXydFjJl2E42Ykry_3C0pi7GHZqOvSunD3ac2y1z01iIyVUR3gAkMXBJxm1LDecXhqUaq4Zh-KVwf2cHrCNhWS6HQbhIjwGntjNak31WIOvAV09dd0TxGN8qX9brnl_Y2utsYw4foXfHVtt1_OPhd1WTktJw0dXMTfhDKCazWLT-927jy65uMgVKvqHXds_sJ19ZqHI-ZSb5NSKa0kgbjIxcX4Am6kO4EBaywphE11OEfplh_D1EdhXbC37MDI2fXtRoFZ6jDr10EwFnaFIfbbRGndVrKKenaOX7waCGGi_1FYKMj0Ad-e06LE-z2OcY7XLLmaeiNwKA8hA4364rq11vWnnxcAs0Xd-FghdaZSUpnNmGq37iIoMYlZ7xNGXzY6MvFPz-XtLMAFA9hlWBNFa_0ePt1gdyrACrQE-Vb5RpthYFmHLo7vnSIqy9-JdCuEdStCULqE3lfNxYdFmlVKSHa43lIm9bgtStWlui1VEihrLfLirYowqzeaHGXmrZ-IbQrUpSjnvFmHNimnOx_6e2yl4L7mCW6h7NvW6X3rtSvTie6hY4_oWMpuoCVUpR0KtbcTdWYhFY6r7PLri5r9gsP_l2z91fBkzqGIRMdI0H2qgUPXk9WakPGX0nup4tZZ2vIlXQ7FJdu81d5yRh7vmRu7xmcvOprxJwlr51nKBCR1f788234YbmXxz1QVWTWsK47j_3JPDXMaoZ_pTZdBwJR9iK0ECp3tnd6XVLUAgPjOlLfyvBNEXJEbRuX_vfoE7p-f2SMZTDxoVh91-KaRvVi3e7hLrC-2seIdE5EU99kJ75L3EGSBN7O225ri6Sq9-rKWeYQ7YN31RPj5c3SQYd4jXn09X0ySZRuaLma9Aj8IUok6cTTFzcknkaZ-G3JCiQLAhiGOzeYoG478sGDpBFX1XUKQ6BUrS4JIoqenjqxJSAT2PaFxeXwqPZbYsJzFf7FjMuZs7uIV0qO8cvaI0TMq9-IbuGqFf5CpPRlR2fr3yuQE5iJhFcIGQHcc4lbP5DBVZaKFW4Sk2wp6HpRMTpeuJzK5RGmK6uI7TODjMpAamcxB7YlAe7C46lT_QXMddRQ89maRdgOOCjVt13yV86PC0MoJSsMzHfyz-Ec_Fqcngk8TMMVKfgKUETDa_x-Kuq65oPhEKJUmopubN8KyG9U7VtlGJyUqvQ2MuljrbPQfyiz8FR2XLLvO-yAD_pqqUDCn5w-ytLilYS7MWjMEXq.QE6w7C3b6CcMk7pv2lLhaw"


if [ -n "$1" ]; then
    refresh_token="$1"
fi

client_id="5up5div5batr7kpj1g3ebvqsn2"
client_secret="17ve8h23dhft2gakjc1irbl6fjk4cr5a2854ot4b40jlpbn781ou"

aws cognito-idp initiate-auth \
    --output json \
    --client-id $client_id \
    --auth-flow REFRESH_TOKEN \
    --auth-parameters "REFRESH_TOKEN=$refresh_token,SECRET_HASH=$client_secret"
